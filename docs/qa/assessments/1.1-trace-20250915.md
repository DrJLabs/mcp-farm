# Requirements Trace: Story 1.1 — Bootstrap Env and Healthcheck

Date: 2025-09-15
Story: docs/stories/1.1.bootstrap-env-and-healthcheck.md

## Scope
Trace acceptance criteria to validations and evidence for Story 1.1.

## Requirements → Tests (Gherkin-style)

R1. Env template exists with sensible defaults
- Requirement: `.env.example` contains `BIND_HOST` and `BIND_PORT` with documented defaults.
- Given no `.env` is present
  When developers copy `.env.example`
  Then they see `BIND_HOST=0.0.0.0` and `BIND_PORT=8000` with comments describing local vs container binds.
- Evidence: `.env.example:20-23` in repo.

R2. Health endpoint returns OK JSON
- Requirement: `GET /healthz` returns HTTP 200, `Content-Type: application/json`, body `{"ok": true}`.
- Given the server is started locally on `127.0.0.1:8000`
  When `curl -i http://127.0.0.1:8000/healthz`
  Then status is 200, content-type is JSON, body is `{"ok":true}`.
- Evidence: commit message in branch `feat/story-1-1-bootstrap-healthcheck` includes the `curl` output; local run reproduced.

R3. Works without Traefik (direct bind)
- Requirement: Health endpoint reachable via direct bind in dev.
- Given Traefik is not running
  When starting the app with `BIND_HOST=127.0.0.1 BIND_PORT=8000`
  Then `curl http://127.0.0.1:8000/healthz` returns `{"ok":true}`.
- Evidence: local smoke run described in story Dev Agent Record.

## Status
All requirements have direct validations and passing evidence.

