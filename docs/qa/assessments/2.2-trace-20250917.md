# Requirements Trace: Story 2.2 â€” Harmonize Package Configs & Type Checks

Date: 2025-09-17
Analyst: Quinn (Test Architect)

| Acceptance Criterion | Implementation Artifact(s) | Validation Evidence |
|----------------------|-----------------------------|--------------------|
| AC1: `fastmcp/pyproject.toml` extends the repo Ruff baseline and documents any per-module exceptions | `fastmcp/pyproject.toml` referencing `../pyproject.toml`; inline comments on remaining ignores | Manual review of `fastmcp/pyproject.toml`; clean `uvx ruff check` run from repo root confirms shared config (see terminal log) |
| AC2: Root Ty config covers shared sources with documented suppressions | `pyproject.toml` `[tool.ty.src]` includes `fastmcp/src`, `fastmcp/tests`, `sample-deep-research-mcp`, and `tests`; `[tool.ty.rules]` annotated with Issue #5 follow-ups | Manual review of `pyproject.toml`; Ty ignore counts recorded in Issue #5 summary comment |
| AC3: `uv run ty check` passes with consolidated configuration | `uv run ty check` executed from `fastmcp/` project context | Command output archived in Issue #5 comment (clean pass) |
| AC4: Ruff configuration scopes match between repo root and `fastmcp/` | `uvx ruff settings --config pyproject.toml` (root) vs `uvx ruff settings --config ../pyproject.toml` (from `fastmcp/`) | Screenshots/log snippets stored with Issue #5 evidence showing identical include/exclude and target-version fields |
| AC5: Issue #5 summary comment lists remaining Ty suppressions and next steps | Issue #5 comment (2025-09-17) | Manual verification of Issue #5 thread |
| AC6: Issue #5 notes Ty preview status and fallback approach | Issue #5 comment (2025-09-17) detailing fallback to Ruff-only or mypy if Ty regresses | Manual verification of Issue #5 thread |

Trace Outcome: All acceptance criteria satisfied; external evidence archived in Issue #5 for organizational record.
