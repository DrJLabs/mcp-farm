# mcp-farm Brownfield Architecture Document

## Table of Contents

- [mcp-farm Brownfield Architecture Document](#table-of-contents)
  - [Introduction](./introduction.md)
    - [Document Scope](./introduction.md#document-scope)
    - [Change Log](./introduction.md#change-log)
  - [Quick Reference – Key Files and Entry Points](./quick-reference-key-files-and-entry-points.md)
    - [Critical Files](./quick-reference-key-files-and-entry-points.md#critical-files)
    - [Enhancement Impact Areas (from PRD)](./quick-reference-key-files-and-entry-points.md#enhancement-impact-areas-from-prd)
  - [High‑Level Architecture](./highlevel-architecture.md)
    - [Technical Summary (Current)](./highlevel-architecture.md#technical-summary-current)
    - [Actual Tech Stack](./highlevel-architecture.md#actual-tech-stack)
    - [Repository Structure Reality Check](./highlevel-architecture.md#repository-structure-reality-check)
  - [Source Tree and Module Organization](./source-tree-and-module-organization.md)
    - [Key Modules and Their Purpose](./source-tree-and-module-organization.md#key-modules-and-their-purpose)
  - [Data Models and APIs](./data-models-and-apis.md)
    - [Pydantic Models (tool schemas)](./data-models-and-apis.md#pydantic-models-tool-schemas)
    - [MCP Transport Endpoints (Current)](./data-models-and-apis.md#mcp-transport-endpoints-current)
  - [Technical Debt and Known Issues (Current)](./technical-debt-and-known-issues-current.md)
    - [Workarounds and Gotchas](./technical-debt-and-known-issues-current.md#workarounds-and-gotchas)
  - [Integration Points and External Dependencies (Planned per PRD)](./integration-points-and-external-dependencies-planned-per-prd.md)
    - [External Services](./integration-points-and-external-dependencies-planned-per-prd.md#external-services)
    - [Internal Integration Points](./integration-points-and-external-dependencies-planned-per-prd.md#internal-integration-points)
  - [Development and Deployment (Current Reality)](./development-and-deployment-current-reality.md)
    - [Local Development Setup](./development-and-deployment-current-reality.md#local-development-setup)
    - [Build and Deployment Process](./development-and-deployment-current-reality.md#build-and-deployment-process)
  - [Testing Reality](./testing-reality.md)
  - [If Enhancement PRD Provided – Impact Analysis](./if-enhancement-prd-provided-impact-analysis.md)
    - [Files That Will Need Modification](./if-enhancement-prd-provided-impact-analysis.md#files-that-will-need-modification)
    - [New Files/Modules Likely Needed](./if-enhancement-prd-provided-impact-analysis.md#new-filesmodules-likely-needed)
    - [Integration Considerations](./if-enhancement-prd-provided-impact-analysis.md#integration-considerations)
  - [Appendix – Useful Commands](./appendix-useful-commands.md)
  - [Operational Notes & Validation (Added)](./operational-notes-validation-added.md)
    - [Networking Assumptions](./operational-notes-validation-added.md#networking-assumptions)
    - [Transport Capability Check](./operational-notes-validation-added.md#transport-capability-check)
    - [PRM and 401 Ownership](./operational-notes-validation-added.md#prm-and-401-ownership)
    - [Audience Policy](./operational-notes-validation-added.md#audience-policy)
    - [Discovery Smoke Tests](./operational-notes-validation-added.md#discovery-smoke-tests)
    - [Streaming Acceptance](./operational-notes-validation-added.md#streaming-acceptance)
  - [Reference Deployment — Docker + Traefik (Proposed)](./reference-deployment-docker-traefik-proposed.md)
    - [Dockerfile (sample‑deep‑research‑mcp)](./reference-deployment-docker-traefik-proposed.md#dockerfile-sampledeepresearchmcp)
    - [Compose with Traefik Labels](./reference-deployment-docker-traefik-proposed.md#compose-with-traefik-labels)
  - [Configuration — Environment Variables](./configuration-environment-variables.md)
  - [PRM Shape — Minimal Example (MVP)](./prm-shape-minimal-example-mvp.md)
  - [Security Controls](./security-controls.md)
  - [Observability & Health](./observability-health.md)
  - [Risks & Mitigations](./risks-mitigations.md)
  - [Definition of Done (Architecture)](./definition-of-done-architecture.md)
  - [Next Actions (for Epic 1)](./next-actions-for-epic-1.md)
  - [Scope Boundaries (Out of Scope for MVP)](./scope-boundaries-out-of-scope-for-mvp.md)
  - [FR/NFR → Gates & Evidence Map](./frnfr-gates-evidence-map.md)
  - [Deployment & CI/CD (MVP)](./deployment-cicd-mvp.md)
  - [Status](./status.md)
  - [Elicitation Plan (Pre‑Dev Questions)](./elicitation-plan-predev-questions.md)
  - [Architecture Decisions (ADR Summary)](./architecture-decisions-adr-summary.md)
  - [Sequence Flows (Text)](./sequence-flows-text.md)
    - [ASCII Sequence Diagram (MVP)](./sequence-flows-text.md#ascii-sequence-diagram-mvp)
    - [Traefik Rate Limit Middleware (Example)](./sequence-flows-text.md#traefik-rate-limit-middleware-example)
  - [Threat Model (STRIDE) & Controls](./threat-model-stride-controls.md)
  - [Performance & SLOs (MVP Targets)](./performance-slos-mvp-targets.md)
  - [Ops Runbook (MVP)](./ops-runbook-mvp.md)
  - [Definition of Ready (for Dev)](./definition-of-ready-for-dev.md)
  - [Outstanding Risks & Open Questions](./outstanding-risks-open-questions.md)
  - [Architecture Sign‑Off Checklist](./architecture-signoff-checklist.md)
